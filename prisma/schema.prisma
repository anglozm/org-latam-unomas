// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ============= ENUMS =============
enum Role {
  USER
  ADMIN
  GUEST
}

enum Pin {
  BRONZE
  GOLD
  SILVER
  PLATINUM
  RUBY
  ZAFIRO
  EMERALD
  DIAMOND
  CROWN
}

enum Country {
  ARGENTINA
  BRAZIL
  CHILE
  COLOMBIA
  COSTA_RICA
  EL_SALVADOR
  GUATEMALA
  HONDURAS
  MEXICO
  PANAMA
  DOMINICAN_REPUBLIC
  URUGUAY
  VENEZUELA
  USA
}

// ================== MODELS ===================
model User {
  id          String    @id @default(uuid())
  partnerCode String?   @unique
  firstName   String
  secondName  String?
  lastName    String
  isActive    Boolean   @default(true)
  email       String    @unique
  birthdate   DateTime?
  upline      String?
  pin         String?
  country     Country?
  roles       Role[]    @default([USER])
  avatar      String? // Avatar image URL
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model Video {
  id          String   @id @default(uuid())
  youtubeId   String   @unique
  title       String
  topic       String
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Review {
  id          String   @id @default(uuid())
  partnerCode String
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Achievement {
  id          String   @id @default(uuid())
  partnerCode String
  pin         Pin
  country     Country
  date        DateTime
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
